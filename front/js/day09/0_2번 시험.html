<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>2번 시험</title>
	<script src="//code.jquery.com/jquery-3.7.1.js"></script>
	<style>
		.container {
			margin: 30px auto;
			padding-top: 50px;
			padding-left: 20px;
			padding-right: 20px;
			width: 420px;
			height: auto;
			border: 1px solid gray;
			background-color: rgb(231, 229, 229);
			
		}
		.input-box {
			margin-bottom: 10px;
			position: relative;

		}
		.label {
			margin-bottom: 20px;
			
		}
		.input-box input {
			line-height: 30px;
			border-style: none none dashed none;
			background-color: rgb(231, 229, 229);
			border-spacing: 30px;
			max-width: 100%;
			
		}
		.input-box .error {
			display: block;
			color: gray;
		}
		.btn {
			margin-top: 40px;
			text-align: center;
			justify-content: center;
			line-height: 40px;
			font-size: 15px;
			color: green;
			width: 100%;
			border: 0px;
			background-color: rgb(186, 226, 186);
			font-weight: bolder;
			cursor: pointer;
		}
		#email {
			max-width: 140px;
		}
	</style>
</head>
<body>
	<form action="" class="container">
		<div class="input-box">
			<label for="id" class="label">아이디 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</label>
			<input type="text" id="id" name="id" class="input">
			<label class="error-id error"></label>
		</div>
		<div class="input-box">
			<label for="pw" class="label">패스워드 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</label>
			<input type="password" id="pw" name="pw" class="input" onblur="blur();">
			<label class="error-pw error"></label>
		</div>
		<div class="input-box">
			<label for="pw2" class="label">패스워드 확인 </label>
			<input type="text" id="pw2" name="pw2" class="input">
			<label class="error-pw2 error"></label>
		</div>
		<div class="input-box">
			<label for="email" class="label">이메일 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</label>
			<input type="text" id="email" name="email" class="input">@<input type="text" id="email">
		</div>
		<div class="input-box">
			<label for="address" class="label">주소 &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</label>
			<input type="text" id="address" name="address" class="input"><br><br>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
			<input type="text" id="address" name="address" class="input">
		</div>
		<div class="input-box">
			<button class="btn">가 입</button>
		</div>
	</form>
	<script>
			function blur() {
				let pwBlur = document.querySelector("#pw");
				pwBlur.innerHTML = "영문자 대/소문자 특수문자, 숫자 포함 8~32자";
			}

		$("form").submit(function() {
			// 유효성 변수 생성
			let pwRegex = /^[a-zA-Z0-9!@#$%^&*()\.]{8,32}$/;

			// 변수 생성
			let idValue = $("[name=id]").val();
			let pwValue = $("[name=pw]").val();
			let pw2Value = $("[name=pw2]").val();

			let submitOK = true;

			// 새로고침 시 에러문구 초기화
			$(".error-id").text("");
			$(".error-pw").text("");
			$(".error-pw2").text("");
			
			// 아이디, 패스워드, 패스워드 확인 입력 X -> 필수 입력 항목 입니다.
			if(!idValue.trim().length) {
				$(".error-id").text("필수 입력 항목 입니다.");
				submitOK = false;
			}
			if(!pwValue.trim().length) {
				$(".error-pw").text("필수 입력 항목 입니다.");
				submitOK = false;
			}
			// 비밀번호 유효성 검사
			if(!pwRegex.test(pwValue.trim())) {
				$(".error-pw").text("영문자 대/소문자 특수문자, 숫자 포함 8~32자");
				submitOK = false;
			}
			if(!pw2Value.trim().length) {
				$(".error-pw2").text("필수 입력 항목 입니다.");
				submitOK = false;
			}

			// 아이디, 패스워드, 패스워드 확인을 적었으면 가입완료 출력
			if(submitOK) {
				$("[name=id]").val(idValue.trim());
				$("[name=pw]").val(pwValue.trim());
				$("[name=pw2]").val(pw2Value.trim());
				alert("가입 완료");
				return true;
			}
			return false;
		});
	</script>
</body>
</html>